{"version":3,"file":"static/js/680.c43c1514.chunk.js","mappings":"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","sources":["../node_modules/@sfdl/prpc/dist/esm/api|lazy|/^/.//.*$/|groupOptions: {}|namespace object","reducers/ReportReducer.ts","pages/Pages.styles.ts","reducers/FileReducer.ts","Router.tsx","components/primarycontrols/PrimaryControls.tsx","utils/file/generateCSV.ts","pages/loadData/LoadData.tsx","pages/report/Report.styles.ts","components/dialogs/childfilter/ChildFilterDialog.styles.ts","components/dialogs/childfilter/ChildFilterDialog.tsx","components/draggable-panes/DraggablePanes.styles.ts","components/draggable-panes/DraggablePanes.tsx","components/table/Table.tsx","pages/report/ReportTable.tsx","pages/report/ErrorList.tsx","pages/report/ReportDetail.tsx","utils/strings/fomatters.ts","pages/report/Report.tsx","App.tsx","utils/authorityData.ts","pages/start/Start.tsx"],"sourcesContent":["var map = {\n\t\"./\": [\n\t\t5154\n\t],\n\t\"./index\": [\n\t\t5154\n\t],\n\t\"./index.js\": [\n\t\t5154\n\t],\n\t\"./pyodide\": [\n\t\t2346,\n\t\t346\n\t],\n\t\"./pyodide.js\": [\n\t\t2346,\n\t\t346\n\t],\n\t\"./static\": [\n\t\t2539,\n\t\t539\n\t],\n\t\"./static.js\": [\n\t\t2539,\n\t\t539\n\t],\n\t\"./web\": [\n\t\t552,\n\t\t552\n\t],\n\t\"./web.js\": [\n\t\t552,\n\t\t552\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 9271;\nmodule.exports = webpackAsyncContext;","export type ReportAction = {\n  type: ReportActionType;\n  payload: any;\n};\n\nexport enum ReportActionType {\n  UPDATE = \"UPDATE\",\n  SET_CHILDREN = \"SET_CHILDREN\",\n  SET_TABLES = \"SET_TABLES\",\n  SET_CHILD = \"SET_CHILD\",\n  SET_RULES = \"SET_RULES\",\n  HIDE_ROWS = \"HIDE_ROWS\",\n  RESET = \"RESET\",\n}\n\nexport type Child = {\n  LAChildId: string;\n  Assessments: any;\n  CINdetails: any;\n  CINplanDates: any;\n  ChildCharacteristics: any;\n  ChildIdentifiers: any;\n  ChildProtectionPlans: any;\n  Disabilities: any;\n  Header: any;\n  Reviews: any;\n  Section47: any;\n  Errors: Errors;\n  hide: boolean;\n};\n\nexport type Errors = Error[];\n\nexport type Error = {\n  ERROR_ID: string | null;\n  ROW_ID: number;\n  columns_affected: string;\n  la_level: string | null;\n  rule_code: number;\n  rule_description: string | null;\n  rule_type: number;\n  tables_affected: string;\n  \"Rule Message\": string;\n};\n\nexport type Rule = {\n  \"Rule Message\": string;\n  \"Rule Code\": number;\n};\n\nexport type Rules = Rule[];\n\nexport type Report = {\n  children?: Children;\n  rules?: Rules;\n  filter?: string;\n  tables?: any;\n};\n\nexport interface Children {\n  [key: string]: any;\n}\n\nconst parseChildren = (children: any, errors: any[]) => {\n  const output: Children = {};\n\n  Object.keys(children).forEach((childKey) => {\n    const values = JSON.parse(children[childKey]);\n\n    values.forEach((value: any) => {\n      if (!output[value.LAchildID]) {\n        output[value.LAchildID] = { hide: false };\n      }\n\n      output[value.LAchildID][childKey] = value;\n    });\n  });\n\n  JSON.parse(errors[0]).forEach((error: any) => {\n    if (!error.LAchildID) {\n      //TODO - these are LA wide errors\n      return false;\n    }\n    //this is where Tambe's change to the error structure needs to be mapped. LAchildID is a guess...\n    if (!output[error.LAchildID].errors) {\n      output[error.LAchildID].errors = {};\n    }\n\n    const ruleMeta = JSON.parse(errors[1]).filter((rule: any) => {\n      return rule[\"Rule code\"] === error.rule_code;\n    })[0];\n\n    output[error.LAchildID].errors[\n      `${error.rule_code} ${error.tables_affected}_${error.columns_affected}`\n    ] = { ...error, ...ruleMeta };\n  });\n\n  return output;\n};\n\nexport const reportReducer = (\n  reportState: Report,\n  reportAction: ReportAction\n): Report => {\n  let newReportState = { ...reportState };\n\n  switch (reportAction.type) {\n    case ReportActionType.RESET:\n      return {};\n\n    case ReportActionType.UPDATE:\n      newReportState = { ...reportAction.payload };\n      return newReportState;\n\n    case ReportActionType.SET_RULES:\n      newReportState.rules = reportAction.payload;\n      return newReportState;\n\n    case ReportActionType.SET_TABLES:\n      newReportState.tables = reportAction.payload.tables;\n      return newReportState;\n\n    case ReportActionType.SET_CHILDREN:\n      newReportState.children = parseChildren(\n        reportAction.payload.tables,\n        reportAction.payload.errors\n      );\n\n      newReportState.tables = reportAction.payload.tables;\n\n      return newReportState;\n\n    case ReportActionType.SET_CHILD:\n      return newReportState;\n\n    case ReportActionType.HIDE_ROWS:\n      if (!newReportState.children) {\n        return newReportState;\n      }\n\n      newReportState.filter = reportAction.payload;\n\n      Object.values(newReportState.children).forEach((childItem: Child) => {\n        if (!childItem.CINdetails) {\n          return false;\n        }\n\n        childItem.hide =\n          childItem.CINdetails.LAchildID.indexOf(reportAction.payload) < 0;\n      });\n\n      return newReportState;\n  }\n\n  return newReportState;\n};\n","import styled from \"@emotion/styled\";\n\nexport const Pre = styled.pre`\n  white-space: normal;\n  word-wrap: break-word;\n`;\n\nexport const Aligner = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n`;\n\nexport const Spacer = styled.div`\n  margin-top: 24px;\n`;\n","export type FileAction = {\n  type: FileActionType;\n  payload: any;\n  year: string;\n};\n\nexport enum FileActionType {\n  ADD_FILES = \"ADD_FILES\",\n  SET_FILES = \"SET_FILES\",\n  CLEAR_FILES = \"CLEAR_FILES\",\n}\n\nexport const initialData = {};\n\nexport const fileReducer = (fileState: any, fileAction: FileAction) => {\n  let newState;\n\n  switch (fileAction.type) {\n    case FileActionType.CLEAR_FILES:\n      return {};\n\n    case FileActionType.ADD_FILES:\n      newState = { ...fileState };\n      console.log(fileAction.year, fileAction.payload);\n      if (Object.keys(fileAction.payload).length < 1) {\n        newState[fileAction.year] = [];\n      } else {\n        newState[fileAction.year] = fileAction.payload;\n      }\n\n      return newState;\n\n    case FileActionType.SET_FILES:\n      newState = { ...fileAction.payload };\n\n      return newState;\n  }\n};\n","import React, { Dispatch, useState } from \"react\";\nimport { ReportAction, Report } from \"reducers/ReportReducer\";\nimport { FileAction } from \"reducers/FileReducer\";\n\nimport { LoadData, Report as ReportPage } from \"pages\";\nimport { Body } from \"@sfdl/sf-mui-components\";\nimport { IAPI } from \"@sfdl/prpc\";\n\nexport enum RouteValue {\n  LOAD_DATA = \"LOAD_DATA\",\n  REPORT = \"REPORT\",\n}\n\nexport interface RouteProps {\n  data: Report;\n  dispatch: Dispatch<ReportAction>;\n  fileState: any;\n  fileDispatch: Dispatch<FileAction>;\n  api: IAPI;\n  APIName?: string;\n}\n\nconst Router = (props: RouteProps) => {\n  const [route, setRoute] = useState(RouteValue.LOAD_DATA);\n\n  const handleRouteChange = (newRoute: RouteValue): void => {\n    setRoute(newRoute);\n  };\n\n  const pageProps = {\n    handleRouteChange,\n    ...props,\n  };\n\n  const renderRoute = () => {\n    if (route === RouteValue.LOAD_DATA) {\n      return <LoadData {...pageProps} />;\n    }\n\n    if (route === RouteValue.REPORT) {\n      return <ReportPage {...pageProps} />;\n    }\n  };\n\n  return (\n    <Body title=\"CIN Validator\" chip={props.APIName || \"Sample\"}>\n      {renderRoute()}\n    </Body>\n  );\n};\n\nexport default Router;\n","import React from \"react\";\nimport { Button } from \"@mui/material\";\n\ninterface PrimaryControlsProps {\n  disableButtons?: boolean;\n  disableDownload?: boolean;\n  onClearClick: () => void;\n  onValidateClick: () => void;\n  onGenerateClick: () => void;\n}\n\nconst PrimaryControls = (props: PrimaryControlsProps): JSX.Element => {\n  const {\n    disableButtons,\n    disableDownload,\n    onClearClick,\n    onValidateClick,\n    onGenerateClick,\n  } = props;\n\n  return (\n    <>\n      <Button\n        variant=\"contained\"\n        disabled={disableButtons}\n        onClick={onValidateClick}\n      >\n        Validate\n      </Button>\n      <Button\n        disabled={disableButtons}\n        variant=\"contained\"\n        onClick={onClearClick}\n      >\n        Clear Data And Start Again\n      </Button>\n      {/*<Button disabled={disableButtons} variant=\"contained\">\n        Download Error Reports\n     </Button>*/}\n      <Button\n        disabled={disableButtons || disableDownload}\n        onClick={onGenerateClick}\n        variant=\"contained\"\n      >\n        Download CSVs\n      </Button>\n    </>\n  );\n};\n\nexport default PrimaryControls;\n","const generateCSV = (input: any[]): string | null => {\n  if (input.length < 0) {\n    return null;\n  }\n  const output = [\n    \"data:text/csv;charset=utf-8,\",\n    Object.keys(input[0]).join(\",\"),\n  ];\n\n  input.forEach((row) => {\n    output.push(Object.values(row).join(\",\"));\n  });\n\n  return output.join(\"\\n\");\n};\n\nexport { generateCSV };\n","/** @jsxImportSource @emotion/react */\n\nimport React, { useState } from \"react\";\nimport {\n  Box,\n  Grid,\n  Stepper,\n  Step,\n  StepLabel,\n  StepContent,\n  Typography,\n} from \"@mui/material\";\nimport { FormatListNumbered } from \"@mui/icons-material\";\n\nimport { Aligner } from \"../Pages.styles\";\n\nimport { ReportActionType } from \"reducers/ReportReducer\";\nimport { FileActionType } from \"reducers/FileReducer\";\n\nimport {\n  Expando,\n  Tabs,\n  SelectableList as Selectablelist,\n  Loader,\n  Upload as Uploader,\n  Block,\n} from \"@sfdl/sf-mui-components\";\n\nimport PrimaryControls from \"components/primarycontrols\";\nimport { generateCSV } from \"utils/file/generateCSV\";\n\nimport { RouteProps, RouteValue } from \"../../Router\";\n\nimport validationRules from \"data/validation-rules-list.json\";\n\ninterface LoadDataPageProps extends RouteProps {\n  handleRouteChange: (route: RouteValue) => void;\n}\n\nconst LoadData = (props: LoadDataPageProps) => {\n  const { dispatch, api, fileState, fileDispatch, data } = props;\n\n  const getInitialSelectedRuleState = (): string[] => {\n    return validationRules.map((rule) => rule.value);\n  };\n\n  const [selectedValidationRules, setSelectedValidationRules] = useState<\n    string[]\n  >(getInitialSelectedRuleState());\n  const [loading, setLoading] = useState(false);\n\n  const handleResetClick = () => {\n    dispatch({ type: ReportActionType.RESET, payload: {} });\n    fileDispatch({ type: FileActionType.CLEAR_FILES, payload: {}, year: \"\" });\n  };\n\n  const generateCSVFile = (tables: any): void => {\n    Object.keys(tables).forEach((table) => {\n      const output = generateCSV(Object.values(JSON.parse(tables[table])));\n\n      if (output) {\n        const encodedURI = encodeURI(output);\n        const link = document.createElement(\"a\");\n        document.body.appendChild(link);\n\n        link.download = `${table}.csv`;\n        link.href = encodedURI;\n        link.click();\n        document.body.removeChild(link);\n      }\n    });\n  };\n\n  const getTotalFilesLength = (): number => {\n    return Object.values(fileState).reduce((prevVal, currVal) => {\n      return (prevVal as number) + Object.values(currVal as Object).length;\n    }, 0) as number;\n  };\n\n  const handleNextClick = async () => {\n    if (api && fileState) {\n      const file = fileState[\"2023\"];\n\n      try {\n        setLoading(true);\n\n        const fileObject: any = Object.values(file)[0] as any;\n        const tables = await api.call(\"generate_tables\", fileObject.file);\n\n        const errorArgs = [fileObject.file];\n\n        if (selectedValidationRules.length > 0) {\n          errorArgs.push(selectedValidationRules);\n        }\n\n        const errors = await api.call(\"cin_validate\", errorArgs);\n\n        setLoading(false);\n        dispatch({\n          type: ReportActionType.SET_CHILDREN,\n          payload: { tables, errors },\n        });\n\n        props.handleRouteChange(RouteValue.REPORT);\n      } catch (ex) {\n        setLoading(false);\n        console.log(\"API add_files request failed\", ex);\n        alert(\"Something went wrong!\");\n      }\n    }\n  };\n\n  const handleGenerateCSVClick = async () => {\n    if (api && fileState && data) {\n      if (!data.tables) {\n        const file = fileState[\"2023\"];\n\n        try {\n          setLoading(true);\n\n          const fileObject: any = Object.values(file)[0] as any;\n          const tables = await api.call(\"generate_tables\", fileObject.file);\n          setLoading(false);\n\n          generateCSVFile(tables);\n\n          dispatch({\n            type: ReportActionType.SET_TABLES,\n            payload: { tables },\n          });\n        } catch (ex) {\n          setLoading(false);\n          console.log(\"API add_files request failed\", ex);\n          alert(\"Something went wrong!\");\n        }\n      }\n    } else {\n      generateCSVFile(data.tables);\n    }\n  };\n\n  const renderInstructions = () => {\n    const instructions = [\n      {\n        label: `Upload an XML file for the CIN census by clicking on the arrow below. \n        If you have CSVs, convert them into XML using the DfE XML Generator.`,\n        content: null,\n      },\n      {\n        label: `If you only want to only run the validation for certain rules, use the\n        'Validation Rules' dropdown to select the ones you want.\n      `,\n        content: null,\n      },\n      {\n        label: `Click 'Validate' to run the selected checks. When complete, the Error\n        Display screen will appear.\n      `,\n        content: null,\n      },\n      {\n        label: `On the Error Display screen:`,\n        content: (\n          <ul>\n            <li>\n              <Typography variant=\"body2\">\n                Use the 'Child ID' sidebar to select individual children.\n              </Typography>\n            </li>\n            <li>\n              <Typography variant=\"body2\">\n                Scroll down to see the failing locations for the child across\n                all recorded tables. Cells with errors are highlighted in blue\n                when you click on the error description.\n              </Typography>\n            </li>\n            <li>\n              <Typography variant=\"body2\">\n                If you click the 'Filter' button, you can type to search for a\n                Child ID, or scroll down and click to display only children with\n                a particular error.\n              </Typography>\n            </li>\n            <li>\n              <Typography variant=\"body2\">\n                To download the Error Report spreadsheet, scroll to the bottom\n                of the page and click the 'Download Error Reports' button\n              </Typography>\n            </li>\n          </ul>\n        ),\n      },\n    ];\n\n    return (\n      <Stepper orientation=\"vertical\" activeStep={-1}>\n        {instructions.map((ins, idx) => {\n          return (\n            <Step key={ins.label} active={true}>\n              <StepLabel>{ins.label}</StepLabel>\n              <StepContent>{ins.content}</StepContent>\n            </Step>\n          );\n        })}\n      </Stepper>\n    );\n  };\n\n  const renderXMLTab = () => {\n    return (\n      <Box>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">Upload CIN XML file</Typography>\n            <Uploader\n              onUploadReady={(files: any) => {\n                fileDispatch({\n                  type: FileActionType.ADD_FILES,\n                  payload: files || {},\n                  year: \"2023\", //redundant\n                });\n              }}\n              maxFiles={1}\n              fileList={fileState[\"2023\"]}\n            />\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  };\n\n  const renderFileTabs = () => {\n    const headers = [{ label: \"XML File\" }];\n\n    const bodies = [renderXMLTab()];\n\n    return <Tabs headers={headers} bodies={bodies} id=\"file-upload-tabs\" />;\n  };\n\n  const getValidationRulesSummary = () => {\n    const totalRulesLength = validationRules.length;\n    const selectedRulesLength = selectedValidationRules.length;\n    const unselectedRulesLength = totalRulesLength - selectedRulesLength;\n\n    return `${selectedRulesLength} selected, ${unselectedRulesLength} unselected`;\n  };\n\n  return (\n    <div>\n      {loading && (\n        <Loader\n          type=\"cover\"\n          label=\"Running analysis, this may take some time\"\n        />\n      )}\n      <Box flexGrow={1}>\n        <Block>\n          This tool will load Python code in your web browser to read and\n          validate your CIN data files locally. None of your CIN data will leave\n          your network via this tool. You can safely use it without installing\n          additional software, and without any data sharing agreement. Once the\n          Python code has loaded, the tool will work entirely offline.\n        </Block>\n        <Block spacing=\"blockLarge\">\n          To begin, use the boxes below to locate and upload your local CIN\n          file. Select the validation rules you want to run, and use the\n          “validate” button to get started. By default, all rules will be run if\n          no specific rules are selected.\n          <br />\n          <br />\n          If you simply want to convert your XML file into CSVs, you can click\n          on \"download CSVs\" without the need to go through the validation\n          process first.\n        </Block>\n        <Block spacing=\"blockLarge\">\n          <Expando\n            Icon={FormatListNumbered}\n            id=\"instructions-list\"\n            title=\"Instructions\"\n          >\n            {renderInstructions()}\n          </Expando>\n        </Block>\n        <Block spacing=\"blockLarge\">\n          <Box>{renderFileTabs()}</Box>\n        </Block>\n        <Block spacing=\"blockLarge\">\n          <Expando\n            defaultExpanded={false}\n            id=\"validation-rules-expander\"\n            title={`Validation Rules (${getValidationRulesSummary()})`}\n          >\n            <Selectablelist\n              initialSelectedItems={getInitialSelectedRuleState()}\n              values={validationRules}\n              onItemSelected={(selectedRules: string[]) => {\n                setSelectedValidationRules(selectedRules);\n              }}\n            />\n          </Expando>\n        </Block>\n        <Block spacing=\"blockLarge\">\n          <Aligner>\n            <PrimaryControls\n              disableDownload={getTotalFilesLength() < 1}\n              disableButtons={\n                getTotalFilesLength() < 1 || selectedValidationRules.length < 1\n              }\n              onClearClick={handleResetClick}\n              onValidateClick={handleNextClick}\n              onGenerateClick={handleGenerateCSVClick}\n            />\n          </Aligner>\n        </Block>\n      </Box>\n    </div>\n  );\n};\n\nexport default LoadData;\n","import styled from \"@emotion/styled\";\nimport { spacing } from \"@sfdl/sf-mui-components\";\n\ninterface DoublePanelProps {\n  color?: string;\n  grow?: number;\n}\n\n//const headerHeight = \"184px\";\n\nconst FlexContainer = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ScrollableFull = styled.div`\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: 100%;\n`;\n\nconst DoublePanel = styled.div<DoublePanelProps>`\n  /*flex-grow: ${(props) => {\n    return props.grow ? props.grow : 1;\n  }};*/\n  overflow-x: hidden;\n  overflow-y: auto;\n  //  align-self: stretch;\n  // display: flex;\n  //flex-direction: column;\n  height: 50%;\n`;\n\nconst HeaderControl = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 ${spacing.s} ${spacing.m} ${spacing.s};\n`;\n\nexport { ScrollableFull, HeaderControl, FlexContainer, DoublePanel };\n","import styled from \"@emotion/styled\";\n\nconst FilterHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\n\nexport { FilterHeader };\n","import React, { ChangeEvent, Dispatch } from \"react\";\nimport { Box, TextField } from \"@mui/material\";\n\nimport { ReportAction, ReportActionType } from \"reducers/ReportReducer\";\nimport { FilterHeader } from \"./ChildFilterDialog.styles\";\n\ninterface ChildFilterDialogProps {\n  dispatch: Dispatch<ReportAction>;\n  filterString?: string;\n}\n\nconst ChildFilterDialog = (props: ChildFilterDialogProps) => {\n  const { dispatch, filterString } = props;\n\n  const handleChange = (\n    evt: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ): void => {\n    dispatch({\n      type: ReportActionType.HIDE_ROWS,\n      payload: evt.currentTarget.value,\n    });\n  };\n\n  return (\n    <Box>\n      <FilterHeader>\n        <TextField\n          value={filterString}\n          label=\"Child ID\"\n          size=\"small\"\n          onChange={handleChange}\n        />\n      </FilterHeader>\n    </Box>\n  );\n};\n\nexport default ChildFilterDialog;\n","import styled from \"@emotion/styled\";\nimport { greys } from \"@sfdl/sf-mui-components\";\n\nconst DraggableContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  position: relative;\n`;\n\nconst DraggableTop = styled.div`\n  height: 50%;\n  overflow-x: auto;\n  overflow-y: auto;\n`;\n\nconst DraggableBottom = styled.div`\n  height: 50%;\n  overflow-x: auto;\n  overflow-y: auto;\n`;\n\nconst DraggableHandle = styled.div`\n  position: absolute;\n  width: 100%;\n  background: ${greys.mid};\n  height: 2px;\n  display: block;\n  left: 0;\n  top: 50%;\n  cursor: ns-resize;\n\n  &::after {\n    position: absolute;\n    content: \"\";\n    top: 50%;\n    height: 20px;\n    margin-top: -10px;\n    width: 40px;\n    background: white;\n    left: 50%;\n    margin-left: -20px;\n\n    border-radius: 4px;\n    background-color: ${greys.mid};\n    background-repeat: repeat;\n    background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kTtIw1AUhv8+pCIVBYuIOGRonSyIijhqFYpQIdQKrTqY3PQFTRqSFBdHwbXg4GOx6uDirKuDqyAIPkBcXZwUXaTEc5NCixgPXO7Hf8//c++5gL9RYaoZHAdUzTLSyYSQza0KoVf4EEQ/BhGTmKnPiWIKnvV1T91Ud3Ge5d33Z/UqeZMBPoF4lumGRbxBPL1p6Zz3iSOsJCnE58RjBl2Q+JHrsstvnIsO+3lmxMik54kjxEKxg+UOZiVDJZ4ijiqqRvn+rMsK5y3OaqXGWvfkLwzntZVlrtMaQRKLWIIIATJqKKMCC3HaNVJMpOk84eEfdvwiuWRylcHIsYAqVEiOH/wPfs/WLExOuEnhBND1YtsfMSC0CzTrtv19bNvNEyDwDFxpbX+1Acx8kl5va9EjoG8buLhua/IecLkDDD3pkiE5UoCWv1AA3s/om3LAwC3Qs+bOrXWO0wcgQ7NK3QAHh8BokbLXPd7d3Tm3f3ta8/sBOVBykPd2vFUAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfnAQQQGQDysTUVAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAABBJREFUCNdj+P///38GVAAARc4D/b5MvWkAAAAASUVORK5CYII=\");\n  }\n`;\n\nexport { DraggableContainer, DraggableTop, DraggableBottom, DraggableHandle };\n","import React, { useState, useRef, useEffect } from \"react\";\nimport Draggable, {\n  DraggableEvent,\n  DraggableEventHandler,\n  DraggableData,\n} from \"react-draggable\";\n\nimport {\n  DraggableBottom,\n  DraggableTop,\n  DraggableHandle,\n  DraggableContainer,\n} from \"./DraggablePanes.styles\";\n\ninterface DraggablePanesProps {\n  topContent: any;\n  bottomContent: any;\n}\n\nconst DraggablePanes = ({ topContent, bottomContent }: DraggablePanesProps) => {\n  useEffect(() => {\n    const valRect = document\n      .querySelector('td[scope=\"cell-active\"]')\n      ?.getBoundingClientRect();\n    const wrapperRect = topRef.current?.getBoundingClientRect();\n\n    if (valRect && wrapperRect && topRef) {\n      const y = valRect.top - wrapperRect.top;\n      const x = valRect.left - wrapperRect.left;\n\n      topRef?.current?.scrollTo(x, y);\n    }\n  });\n\n  const [y, setY] = useState(0);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const topRef = useRef<HTMLDivElement>(null);\n\n  const handleDrag: DraggableEventHandler = (\n    evt: DraggableEvent,\n    dragElement: DraggableData\n  ) => {\n    const y = dragElement.y;\n\n    setY(y);\n  };\n\n  const getHeights = () => {\n    const containerHeight = containerRef.current?.clientHeight || 0;\n    const elementHeight = containerHeight / 2;\n\n    let top = 50,\n      bottom = 50;\n\n    if (y !== 0) {\n      const offset = y < 0 ? 0 - y : y;\n\n      const percentage = ((elementHeight + offset) / containerHeight) * 100;\n      const remainder = 100 - percentage;\n\n      top = y > 0 ? percentage : remainder;\n      bottom = y > 0 ? remainder : percentage;\n    }\n\n    return {\n      top,\n      bottom,\n    };\n  };\n\n  const heights = getHeights();\n\n  return (\n    <DraggableContainer ref={containerRef}>\n      <DraggableTop style={{ height: `${heights.top}%` }} ref={topRef}>\n        {topContent}\n      </DraggableTop>\n      <DraggableBottom style={{ height: `${heights.bottom}%` }}>\n        {bottomContent}\n      </DraggableBottom>\n\n      <Draggable nodeRef={nodeRef} axis=\"y\" bounds=\"parent\" onDrag={handleDrag}>\n        <DraggableHandle ref={nodeRef}></DraggableHandle>\n      </Draggable>\n    </DraggableContainer>\n  );\n};\n\nexport default DraggablePanes;\n","/** @jsxImportSource @emotion/react */\n\nimport React, { useState, MouseEvent, useEffect } from \"react\";\nimport {\n  Table as MuiTable,\n  TableBody,\n  TableRow,\n  TableCell,\n  TableHead,\n  Popover,\n  Typography,\n} from \"@mui/material\";\n\nimport { colors } from \"@sfdl/sf-mui-components\";\n\ntype TableRowType = {\n  cells: unknown[];\n  raw?: any[];\n};\n\ninterface HighlightCell {\n  row: number;\n  cell: number;\n  description?: string;\n}\n\ninterface LowLightCells {\n  [key: string]: any;\n}\n\ninterface TableProps {\n  headers: string[];\n  rows: TableRowType[];\n  id: string;\n  selectable?: boolean;\n  selectedHandler?: (row: any) => void;\n  highlight?: HighlightCell | null;\n  lowlights?: LowLightCells;\n}\n\nconst TableCellElement = (props: {\n  content: string;\n  highlight?: HighlightCell | null;\n  lowlight?: boolean | null;\n  selectedRow: number;\n  rowIdx: number;\n  outline?: boolean | null;\n  handleClick: () => void;\n}) => {\n  const {\n    content,\n    highlight,\n    selectedRow,\n    handleClick,\n    outline,\n    rowIdx,\n    lowlight,\n  } = props;\n\n  const [popoverLocation, setPopoverLocation] =\n    React.useState<HTMLElement | null>(null);\n\n  const handlePopoverOpen = (evt: MouseEvent<HTMLElement>) => {\n    if (outline && highlight?.description) {\n      setPopoverLocation(evt.currentTarget);\n    }\n  };\n\n  const handlePopoverClose = () => {\n    setPopoverLocation(null);\n  };\n\n  const open = Boolean(popoverLocation);\n\n  const buildStyling = () => {\n    const output = {\n      backgroundColor: \"transparent\",\n      color: \"#000\",\n    };\n\n    if (lowlight) {\n      output.backgroundColor = colors.secondary;\n      output.color = \"#fff\";\n    }\n\n    if (rowIdx === selectedRow || outline) {\n      output.backgroundColor = colors.primary;\n      output.color = \"#fff\";\n    }\n\n    return output;\n  };\n\n  return (\n    <TableCell\n      scope={outline ? \"cell-active\" : \"\"}\n      role={outline ? \"cell-active\" : \"\"}\n      sx={buildStyling()}\n      onClick={handleClick}\n      key={`table-cell-${content}`}\n    >\n      <span onMouseEnter={handlePopoverOpen} onMouseLeave={handlePopoverClose}>\n        {content || \"-\"}\n      </span>\n      <Popover\n        id={`table-cell-popover-${content}`}\n        sx={{\n          pointerEvents: \"none\",\n        }}\n        open={open}\n        anchorEl={popoverLocation}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"left\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"left\",\n        }}\n        onClose={handlePopoverClose}\n        disableRestoreFocus\n      >\n        <Typography variant=\"body1\">{highlight?.description}</Typography>\n      </Popover>\n    </TableCell>\n  );\n};\n\nconst Table = (props: TableProps) => {\n  const {\n    headers,\n    rows,\n    id,\n    selectable,\n    selectedHandler,\n    highlight,\n    lowlights,\n  } = props;\n\n  const [selectedRow, setSelectedRow] = useState<number>(-1);\n\n  useEffect(() => {\n    setSelectedRow(-1);\n  }, [id]);\n\n  const renderCells = (cells: unknown[], rowIdx: number, raw: any) => {\n    return cells.map((cell, idx) => {\n      const outline =\n        highlight && highlight.row === rowIdx && highlight.cell === idx;\n\n      return (\n        <TableCellElement\n          lowlight={lowlights && lowlights[`${rowIdx}_${idx}`]}\n          outline={outline}\n          content={cell as string}\n          highlight={highlight}\n          rowIdx={rowIdx}\n          selectedRow={selectedRow}\n          key={`${rowIdx}-${idx}`}\n          handleClick={() => {\n            if (selectable) {\n              setSelectedRow(rowIdx === selectedRow ? -1 : rowIdx);\n\n              if (selectedHandler) {\n                selectedHandler(rowIdx === selectedRow ? null : raw);\n              }\n            }\n          }}\n        />\n      );\n    });\n  };\n\n  const renderRows = () => {\n    return rows.map((row, idx) => {\n      return (\n        <TableRow key={`table-row-${id}-${idx}`}>\n          {renderCells(row.cells, idx, row.raw)}\n        </TableRow>\n      );\n    });\n  };\n\n  return (\n    <MuiTable>\n      <TableHead>\n        <TableRow>\n          {headers.map((header, idx) => {\n            return (\n              <TableCell key={`table-head-${id}-${idx}`}>{header}</TableCell>\n            );\n          })}\n        </TableRow>\n      </TableHead>\n\n      <TableBody>{renderRows()}</TableBody>\n    </MuiTable>\n  );\n};\n\nexport default Table;\n","import React, { useEffect } from \"react\";\nimport Table from \"components/table\";\nimport { Error } from \"reducers/ReportReducer\";\nimport validationRules from \"data/validation-rules-list.json\";\n\ninterface ReportTableProps {\n  data: any;\n  id: string;\n  error?: Error | null;\n  childErrors?: Error[] | [] | null;\n}\n\nconst ReportTable = (props: ReportTableProps) => {\n  const { data, id, error, childErrors } = props;\n\n  useEffect(() => {\n    if (!error) {\n      document.querySelector(\"h5\")?.scrollIntoView();\n    }\n  }, [error]);\n\n  const headers = Object.keys(data);\n  const cells = Object.values(data);\n\n  const getLowLights = () => {\n    if (!childErrors || childErrors.length < 1) {\n      return undefined;\n    }\n\n    const output: { [key: string]: any } = {};\n\n    childErrors.forEach((childError) => {\n      output[`${0}_${headers.indexOf(childError.columns_affected)}`] = true;\n    });\n\n    return output;\n  };\n\n  const getHighlight = () => {\n    if (!error) {\n      return null;\n    }\n\n    return {\n      row: 0,\n      cell: headers.indexOf(error.columns_affected),\n      description:\n        validationRules.filter((rule) => {\n          return rule.value === error.rule_code.toString();\n        })[0].label || \"\",\n    };\n  };\n\n  return (\n    <Table\n      lowlights={getLowLights()}\n      highlight={getHighlight()}\n      headers={headers}\n      rows={[{ cells }]}\n      id={id}\n    />\n  );\n};\n\nexport default ReportTable;\n","import React from \"react\";\nimport { Error } from \"reducers/ReportReducer\";\nimport Table from \"components/table\";\n\ninterface ErrorListProps {\n  errorList: Error[];\n  errorSelectedHandler: (error: Error | null) => void;\n  childId: string;\n}\n\nconst ErrorList = ({\n  errorList,\n  errorSelectedHandler,\n  childId,\n}: ErrorListProps) => {\n  const handleErrorSelected = (error: Error) => {\n    errorSelectedHandler(error);\n  };\n\n  return (\n    <Table\n      selectable={true}\n      selectedHandler={handleErrorSelected}\n      headers={[\"Rule Code\", \"Rule Description\"]}\n      rows={errorList.map((errorItem) => {\n        return {\n          cells: [errorItem.rule_code, errorItem[\"Rule Message\"]],\n          raw: errorItem as any,\n        };\n      })}\n      id={`error-table-${childId}`}\n    />\n  );\n};\n\nexport default ErrorList;\n","import React, { useState, useEffect } from \"react\";\nimport { Error } from \"reducers/ReportReducer\";\n\nimport DraggablePanes from \"components/draggable-panes\";\n\nimport { pascalToReadable } from \"utils/strings/fomatters\";\n\nimport { Block } from \"@sfdl/sf-mui-components\";\n\nimport ReportTable from \"./ReportTable\";\nimport ErrorList from \"./ErrorList\";\nimport { Typography } from \"@mui/material\";\n\ninterface ReportDetailProps {\n  childItem: any;\n  childId: string;\n}\n\nconst ReportDetail = (props: ReportDetailProps) => {\n  const { childItem, childId } = props;\n  const skipRendering = [\"Header\", \"errors\", \"hide\"];\n\n  const [selectedError, setSelectedError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    setSelectedError(null);\n  }, [childId]);\n\n  const handleSelectError = (error: Error | null) => {\n    setSelectedError(error);\n  };\n\n  const renderTables = () => {\n    if (childItem) {\n      type ChildErrorTable = {\n        [key: string]: any;\n      };\n      const childErrorsByTable: ChildErrorTable = {};\n\n      Object.values(childItem.errors).forEach((childError: any) => {\n        if (!childErrorsByTable[childError.tables_affected.toLowerCase()]) {\n          childErrorsByTable[childError.tables_affected.toLowerCase()] = [];\n        }\n        childErrorsByTable[childError.tables_affected.toLowerCase()].push(\n          childError\n        );\n      });\n\n      return Object.keys(childItem).map((key) => {\n        if (skipRendering.indexOf(key) > -1) {\n          return null;\n        }\n\n        return (\n          <Block spacing=\"blockExtraLarge\">\n            <Typography variant=\"body1\">\n              <strong>{pascalToReadable(key)}</strong>\n            </Typography>\n            <ReportTable\n              childErrors={childErrorsByTable[key.toLowerCase()] || null}\n              error={\n                selectedError &&\n                selectedError.tables_affected.toLowerCase() ===\n                  key.toLowerCase()\n                  ? selectedError\n                  : null\n              }\n              data={childItem[key]}\n              id={key}\n              key={key}\n            />\n          </Block>\n        );\n      });\n    }\n\n    return null;\n  };\n\n  return (\n    <>\n      <DraggablePanes\n        topContent={\n          <Block spacing=\"blockLarge\">\n            <Block spacing=\"blockLarge\">\n              <Typography variant=\"h5\">Child ID: {childId}</Typography>\n            </Block>\n            {renderTables()}\n          </Block>\n        }\n        bottomContent={\n          <>\n            <br />\n            <br />\n            <Typography variant=\"h5\">Errors</Typography>\n            {childItem.errors ? (\n              <ErrorList\n                errorSelectedHandler={handleSelectError}\n                errorList={Object.values(childItem.errors)}\n                childId={childId}\n              />\n            ) : (\n              <Typography variant=\"body1\">\n                No errors found for this entry\n              </Typography>\n            )}\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default ReportDetail;\n","import { startCase } from \"lodash\";\n\nexport const pascalToReadable = (str: string): string => {\n  return startCase(str);\n};\n","import React, { useState, useEffect } from \"react\";\nimport { ReportActionType } from \"reducers/ReportReducer\";\nimport { RouteValue, RouteProps } from \"Router\";\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport { ScrollableFull, HeaderControl } from \"./Report.styles\";\n\nimport { SelectableTable, ButtonPopover, Block } from \"@sfdl/sf-mui-components\";\n\nimport PrimaryControls from \"components/primarycontrols\";\n\nimport ChildFilterDialog from \"components/dialogs/childfilter\";\nimport ReportDetail from \"./ReportDetail\";\nimport { Aligner, Spacer } from \"../Pages.styles\";\nimport { generateCSV } from \"utils/file/generateCSV\";\n\ninterface ReportPageProps extends RouteProps {\n  handleRouteChange: (newRoute: RouteValue) => void;\n}\n\nconst Report = (props: ReportPageProps) => {\n  const { handleRouteChange, api, data, dispatch } = props;\n  const [selectedChild, setSelectedChild] = useState<string | null>(null);\n\n  useEffect(() => {\n    const init = async () => {\n      const children = await api.call(\"get_children\", {});\n      const errors = await api.call(\"get_errors\", {});\n\n      dispatch({\n        type: ReportActionType.SET_CHILDREN,\n        payload: {\n          children: JSON.parse(children.val),\n          errors: JSON.parse(errors),\n        },\n      });\n    };\n\n    if (Object.values(data).length < 1) {\n      init();\n    }\n  });\n\n  const generateCSVFile = () => {\n    if (data && data.tables) {\n      Object.keys(data.tables).forEach((table) => {\n        const output = generateCSV(\n          Object.values(JSON.parse(data.tables[table]))\n        );\n\n        if (output) {\n          const encodedURI = encodeURI(output);\n          const link = document.createElement(\"a\");\n          document.body.appendChild(link);\n\n          link.download = `${table}.csv`;\n          link.href = encodedURI;\n          link.click();\n          document.body.removeChild(link);\n        }\n      });\n    }\n  };\n\n  const handleRowSelect = (row: unknown[]) => {\n    setSelectedChild(row[0] as string);\n  };\n\n  const handleResetClick = () => {\n    dispatch({ type: ReportActionType.RESET, payload: {} });\n    handleRouteChange(RouteValue.LOAD_DATA);\n  };\n\n  const renderTable = () => {\n    if (!data.children) {\n      return null;\n    }\n\n    const reportList = Object.values(data.children)\n      .filter((child) => {\n        if (!child.ChildIdentifiers) {\n          return false;\n        }\n\n        return !child.hide;\n      })\n      .map((child) => {\n        return [\n          child.ChildIdentifiers.LAchildID,\n          child.errors ? Object.keys(child.errors).length : 0,\n        ];\n      });\n\n    return (\n      <SelectableTable\n        headers={[\"Code\", \"Count\"]}\n        rows={reportList}\n        onRowSelect={handleRowSelect}\n      />\n    );\n  };\n\n  const renderDetailView = () => {\n    if (selectedChild && data.children && data.children[selectedChild]) {\n      return (\n        <ReportDetail\n          childId={selectedChild}\n          childItem={data.children[selectedChild]}\n        />\n      );\n    }\n\n    return <Typography variant=\"h6\">Select child</Typography>;\n  };\n\n  return (\n    <Box flexGrow={1} style={{ height: \"750px\", overflowY: \"hidden\" }}>\n      <Grid\n        container\n        spacing={2}\n        style={{ height: \"700px\", overflowY: \"hidden\" }}\n      >\n        <Grid item xs={2} style={{ height: \"100%\" }}>\n          <ScrollableFull>\n            <HeaderControl>\n              <Typography variant=\"h6\">Child ID</Typography>\n              <ButtonPopover label=\"Filter\">\n                <ChildFilterDialog\n                  filterString={data.filter}\n                  dispatch={dispatch}\n                />\n              </ButtonPopover>\n            </HeaderControl>\n            {renderTable()}\n          </ScrollableFull>\n        </Grid>\n        <Grid item xs={10} style={{ height: \"100%\" }}>\n          {renderDetailView()}\n        </Grid>\n      </Grid>\n      <Block spacing=\"blockLarge\">\n        <Spacer>\n          <Aligner>\n            <PrimaryControls\n              disableDownload={false}\n              disableButtons={false}\n              onClearClick={handleResetClick}\n              onValidateClick={() => {}}\n              onGenerateClick={() => {\n                generateCSVFile();\n              }}\n            />\n          </Aligner>\n        </Spacer>\n      </Block>\n    </Box>\n  );\n};\n\nexport default Report;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport queryString from \"query-string\";\n\nimport { IAPI, APITransport, LoadStatus, createApi } from \"@sfdl/prpc\";\n\nimport { Loader, Container, theme as SFTheme } from \"@sfdl/sf-mui-components\";\n\nimport Router from \"./Router\";\nimport { GatedProps } from \"@sfdl/sf-cookie-gate\";\n\nimport { reportReducer } from \"reducers/ReportReducer\";\nimport { fileReducer, initialData } from \"reducers/FileReducer\";\n\nconst CINTheme = { ...SFTheme };\n\nCINTheme.components.MuiContainer.styleOverrides.maxWidthLg[\n  \"&.MuiContainer-maxWidthLg\"\n].maxWidth = 1600;\n\nconst theme = createTheme(CINTheme);\n\ninterface AppProps extends GatedProps {\n  APIName?: string;\n}\n\nlet api: IAPI | undefined = undefined;\nlet initial: boolean = true;\n\nfunction App(props: AppProps) {\n  const [ready, setReady] = useState(false);\n\n  const [reportState, reportDispatch] = useReducer(reportReducer, {});\n  const [fileState, fileDispatch] = useReducer(fileReducer, { ...initialData });\n\n  /**\n   * Lifecycle methods\n   */\n\n  useEffect(() => {\n    const init = async () => {\n      const parsed = queryString.parse(window.location.search);\n      const apiConfig: any = {\n        options: {\n          appName: \"rpc_main:app\",\n        },\n      };\n      if (parsed.url) {\n        apiConfig.transport = APITransport.WEB;\n        apiConfig.options.url = parsed.url;\n      } else {\n        apiConfig.transport = APITransport.PYODIDE;\n        apiConfig.options.nativePackages = [\"numpy\", \"pandas\"];\n        apiConfig.options.packages = parsed.packages\n          ? parsed.packages\n          : [\n              process.env.PUBLIC_URL +\n                \"/bin/dist/cin_validator-0.1.0-py3-none-any.whl\",\n              \"rpc-wrap\",\n              \"fs\",\n              \"plotly\",\n              \"prpc_python\",\n            ];\n      }\n\n      api = await createApi(apiConfig, handleAPIResponse);\n    };\n\n    if (initial) {\n      console.log(\"init...\");\n      initial = false;\n      init();\n    }\n  }, []);\n\n  /**\n   * Handlers\n   */\n\n  const handleAPIResponse = (data: any) => {\n    if (data?.error) {\n      console.error(\"Failed to initialise API\", data.error);\n      alert(\"Failed to load pyodide\");\n    } else if (data === LoadStatus.READY) {\n      setReady(true);\n    } else {\n      console.log(\"Unknown API response\", data);\n    }\n  };\n\n  /**\n   * Rendering\n   */\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container>\n        {ready && api ? (\n          <Router\n            data={reportState}\n            fileState={fileState}\n            dispatch={reportDispatch}\n            fileDispatch={fileDispatch}\n            api={api}\n            APIName={props.APIName}\n          />\n        ) : (\n          <Loader type=\"cover\" label=\"Loading Python API\" />\n        )}\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import authorities from \"quality-lac-data-ref-authorities/qlacref_authorities/records.json\";\n\nexport type LaData = {\n  la_id: string;\n  la_name: string;\n};\nexport type LaMap = {\n  [key: string]: LaData;\n};\n\nconst laReducer = (map: LaMap, value: LaData): LaMap => {\n  map[value.la_id] = value;\n  return map;\n};\n\nexport const laMap = authorities\n  .map((x) => {\n    return {\n      la_id: x.UTLA21CD,\n      la_name: x.UTLA21NM,\n    };\n  })\n  .reduce(laReducer, {});\n\nexport const laData = Object.values(laMap).sort((a, b) =>\n  a.la_name > b.la_name ? 1 : -1\n);\n","/** @jsxImportSource @emotion/react */\n\nimport React, { useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  SelectChangeEvent,\n  Typography,\n  Button,\n  Grid,\n} from \"@mui/material\";\n\nimport { Block } from \"@sfdl/sf-mui-components\";\nimport { laData } from \"utils/authorityData\";\n\ndeclare global {\n  interface Window {\n    _gaq: any;\n  }\n}\n\ninterface StartPageProps {\n  onClick: () => void;\n}\n\nconst Start = (props: StartPageProps) => {\n  const handleButtonClick = () => {\n    try {\n      //@ts-ignore\n      gtag(\"event\", \"cin-la-select\", {\n        localAuthority,\n        localAuthorityName: laData.filter((la) => {\n          return la.la_id === localAuthority;\n        })[0].la_name,\n        event_callback: () => {\n          props.onClick();\n        },\n        debug_mode: true,\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const [localAuthority, setLocalAuthority] = useState<string>(\"\");\n  const renderDropdown = () => {\n    return (\n      <FormControl fullWidth>\n        <InputLabel id=\"la-select-label\">Choose local authority</InputLabel>\n        <Select\n          value={localAuthority}\n          labelId=\"la-select-label\"\n          label=\"Choose local authority\"\n          onChange={(event: SelectChangeEvent) => {\n            console.log(\"set...\");\n            setLocalAuthority(event.target.value as string);\n          }}\n        >\n          {laData.map((laItem) => {\n            return (\n              <MenuItem value={laItem.la_id} key={laItem.la_id}>\n                {laItem.la_name}\n              </MenuItem>\n            );\n          })}\n        </Select>\n      </FormControl>\n    );\n  };\n\n  return (\n    <Box flexGrow={1}>\n      <Block>\n        <Typography variant=\"body1\">\n          Data to Insight is a national project led by local authorities with\n          support from the ADCS, DLUHC, DfE and Ofsted to help local authorities\n          make better use of data.\n        </Typography>\n      </Block>\n\n      <Block>\n        <Typography variant=\"body1\">\n          This tool was developed by local authority data analysts, supported by\n          technical expertise from our friends at Social Finance. It will let\n          you perform the same kinds of data validation as the DfE’s CIN\n          (children in need) statutory data submission tool. You can run this\n          tool at any time, using your year-to-date extract of CIN data. We\n          recommend a monthly data checking cycle.\n        </Typography>\n      </Block>\n\n      <Block spacing={\"blockLarge\"}>\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            {renderDropdown()}\n          </Grid>\n        </Grid>\n      </Block>\n\n      <Block spacing={\"blockLarge\"}>\n        <Button\n          onClick={handleButtonClick}\n          variant=\"contained\"\n          sx={{ boxShadow: 0 }}\n          disabled={localAuthority === \"\"}\n        >\n          Start\n        </Button>\n      </Block>\n    </Box>\n  );\n};\n\nexport default Start;\n"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","ReportActionType","Aligner","styled","Spacer","FileActionType","reportReducer","reportState","reportAction","newReportState","type","RESET","UPDATE","payload","SET_RULES","rules","SET_TABLES","tables","SET_CHILDREN","children","errors","output","forEach","childKey","JSON","parse","value","LAchildID","hide","error","ruleMeta","filter","rule","rule_code","tables_affected","columns_affected","parseChildren","SET_CHILD","HIDE_ROWS","values","childItem","CINdetails","indexOf","RouteValue","initialData","fileReducer","fileState","fileAction","newState","CLEAR_FILES","ADD_FILES","console","log","year","length","SET_FILES","props","disableButtons","disableDownload","onClearClick","onValidateClick","onGenerateClick","Button","variant","disabled","onClick","generateCSV","input","join","row","push","dispatch","api","fileDispatch","data","getInitialSelectedRuleState","validationRules","useState","selectedValidationRules","setSelectedValidationRules","loading","setLoading","generateCSVFile","table","encodedURI","encodeURI","link","document","createElement","body","appendChild","download","href","click","removeChild","getTotalFilesLength","reduce","prevVal","currVal","handleNextClick","file","fileObject","call","errorArgs","handleRouteChange","REPORT","alert","handleGenerateCSVClick","label","Box","flexGrow","spacing","Icon","FormatListNumbered","title","instructions","content","Typography","Stepper","orientation","activeStep","ins","idx","Step","active","StepLabel","StepContent","renderInstructions","bodies","Grid","container","item","xs","onUploadReady","files","maxFiles","fileList","headers","renderFileTabs","defaultExpanded","totalRulesLength","selectedRulesLength","unselectedRulesLength","getValidationRulesSummary","initialSelectedItems","onItemSelected","selectedRules","ScrollableFull","HeaderControl","grow","FilterHeader","filterString","TextField","size","onChange","evt","currentTarget","DraggableContainer","DraggableTop","DraggableBottom","DraggableHandle","greys","topContent","bottomContent","useEffect","valRect","querySelector","getBoundingClientRect","wrapperRect","topRef","current","y","top","x","left","scrollTo","setY","containerRef","useRef","nodeRef","heights","containerHeight","clientHeight","bottom","percentage","remainder","getHeights","ref","style","height","axis","bounds","onDrag","dragElement","TableCellElement","highlight","selectedRow","handleClick","outline","rowIdx","lowlight","React","popoverLocation","setPopoverLocation","handlePopoverClose","open","Boolean","TableCell","scope","role","sx","backgroundColor","color","colors","buildStyling","onMouseEnter","description","onMouseLeave","Popover","pointerEvents","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","rows","selectable","selectedHandler","lowlights","setSelectedRow","TableHead","TableRow","header","TableBody","cells","raw","cell","childErrors","scrollIntoView","childError","getLowLights","toString","errorList","errorSelectedHandler","childId","errorItem","skipRendering","selectedError","setSelectedError","childErrorsByTable","toLowerCase","key","str","startCase","renderTables","selectedChild","setSelectedChild","init","val","handleRowSelect","overflowY","reportList","child","ChildIdentifiers","onRowSelect","renderTable","LOAD_DATA","route","setRoute","pageProps","newRoute","chip","APIName","CINTheme","SFTheme","components","MuiContainer","styleOverrides","maxWidthLg","maxWidth","theme","createTheme","undefined","initial","ready","setReady","useReducer","reportDispatch","parsed","queryString","window","location","search","apiConfig","options","appName","url","transport","APITransport","nativePackages","packages","createApi","handleAPIResponse","LoadStatus","ThemeProvider","laMap","authorities","la_id","UTLA21CD","la_name","UTLA21NM","laData","sort","a","b","localAuthority","setLocalAuthority","FormControl","fullWidth","InputLabel","Select","labelId","event","target","laItem","MenuItem","gtag","localAuthorityName","la","event_callback","debug_mode","err","boxShadow"],"sourceRoot":""}